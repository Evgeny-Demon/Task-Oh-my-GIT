---
tags: 
uid: "202505261349"
---
Полезная статья!!!
---
# Рекомендации по оформлению коммитов

Хорошо оформленные сообщения коммитов упрощают чтение истории изменений, помогают отслеживать задачи и ускоряют процесс ревью кода. Ниже приведены рекомендации по структуре и оформлению коммитов.

## Формат сообщения коммита

Каждое сообщение коммита должно соответствовать следующей структуре:

```
<type>: <Номер задачи> <Краткое описание изменений>

<Дополнительная информация (необязательно)>
```

### Пример:

```
feat: WEB-1234 Добавлена авторизация через OAuth

- Реализован OAuth flow для Google
- Обновлены настройки среды
- Добавлены переменные окружения в README
```

## Допустимые типы коммитов

| Тип        | Назначение                                                                                                                  |
| ---------- | --------------------------------------------------------------------------------------------------------------------------- |
| `feat`     | Добавление новой функциональности                                                                                           |
| `fix`      | Исправление ошибки или багфикса                                                                                             |
| `docs`     | Обновление или добавление документации                                                                                      |
| `refactor` | Изменения в коде без добавления функционала или исправления багов (например, улучшение читаемости, переработка архитектуры) |
| `test`     | Добавление или изменение тестов                                                                                             |
| `wip`      | Временный коммит в процессе разработки. Может **не содержать номер задачи**.                                                |

> [!WARNING]
> Первое правило WIP-коммита: WIP-коммит не должен попадать в основную рабочую ветку.
>
> Второе правило WIP-коммита: WIP-коммит НИКОГДА не должен попадать в основную рабочую ветку.
>
> Третье правило WIP-коммита: WIP-коммит всегда создается и отправляется в вашу удаленную ветку в конце рабочего дня, если задача еще не завершена и нельзя оформить полноценный коммит.

## Правила указания номера задачи

Номер задачи должен быть взят из трекера и иметь следующий формат: заглавные английские буквы, дефис и цифры:

```
WEB-1234
KIAS-4345
EUROIT-12
```

## Описание изменений

Первая строка сообщения — это краткое описание коммита. Оно должно быть лаконичным и описывать суть внесённых изменений.

Дополнительная информация (со второго абзаца) может включать:

* Более подробное описание выполненной работы
* Технические детали
* Причины, по которым был выбран тот или иной подход
* Перечень изменений из промежуточных `wip`-коммитов

## Рекомендуемая стратегия работы с Git

Во время работы над задачей рекомендуется регулярно фиксировать промежуточные изменения с помощью `wip`-коммитов.

### Примеры wip-коммитов:

```
wip: Начата работа над формой логина
wip: Добавлена валидация полей
wip: Исправлены стили формы
```

Когда задача завершена:

1. Используйте `git rebase -i` для объединения всех `wip`-коммитов в один финальный коммит.
2. Присвойте финальному коммиту корректный `type` и укажите номер задачи.
3. Перенесите все важные сообщения `wip`-коммитов в раздел дополнительной информации финального коммита. Каждое сообщение — с новой строки.

### Объединение коммитов с помощью `git rebase -i`

Для объединения нескольких коммитов в один (например, `wip`-коммитов) выполните следующие шаги:

1. Запустите интерактивный rebase:

```bash
git rebase -i HEAD~3
```

Замените `3` на количество последних коммитов, которые хотите объединить.

2. В открывшемся редакторе замените слово `pick` на `squash` (или `s`) у всех коммитов, которые должны быть объединены с первым:

```
pick 1a2b3c4 Начата работа над формой логина
squash 2b3c4d5 Добавлена валидация полей
squash 3c4d5e6 Исправлены стили формы
```

3. Затем Git предложит отредактировать сообщение объединённого коммита. Оставьте только финальное сообщение в нужном формате, переместив все важные детали в тело коммита:

```
feat: WEB-1234 Реализована форма логина

- Начата работа над формой логина
- Добавлена валидация полей
- Исправлены стили формы
```

4. Завершите rebase и при выполните `git push --force`:

```bash
git push --force
```

> [!WARNING]
> Убедительно прошу! Используйте `--force` **только в своих рабочих ветках**, когда уверены, что никто другой не работает с этой веткой.

### Команды, используемые в `git rebase -i`

Во время интерактивной перебазировки вы можете управлять каждым коммитом с помощью следующих ключевых слов:

| Команда  | Назначение                                                                                                                   |
| -------- | ---------------------------------------------------------------------------------------------------------------------------- |
| `pick`   | Оставить коммит как есть. Используется по умолчанию.                                                                         |
| `reword` | Оставить коммит, но отредактировать его сообщение. Удобно, если нужно переименовать `wip` в осмысленный `feat`, `fix` и т.д. |
| `edit`   | Прервать rebase на этом коммите, чтобы внести изменения в его содержимое вручную.                                            |
| `squash` | Объединить этот коммит с предыдущим. Его сообщение будет объединено с сообщением предыдущего коммита.                        |
| `fixup`  | Объединить этот коммит с предыдущим без сохранения его сообщения. Полезно для мелких правок.                                 |
| `drop`   | Удалить коммит из истории.                                                                                                   |

### Когда использовать:

* `reword`: если содержимое коммита верное, но заголовок или описание нуждаются в улучшении.
* `squash`: для объединения нескольких логически связанных коммитов в один, сохраняя их описания.
* `fixup`: для "подчистки" предыдущих коммитов без захламления сообщения.
* `edit`: если нужно переписать изменения в коммите (например, удалить файл, изменить код).
* `drop`: для удаления ошибочного коммита из истории.

## Названия веток

Для новых задач создавайте ветки по следующему шаблону:

```
<type>/<номер-задачи>-<краткое-описание>
```

### Примеры:

```
feat/WEB-1234-login-form
fix/KIAS-4345-button-alignment
refactor/EUROIT-12-cleanup-auth-module
```

Рекомендуется использовать `kebab-case` для описательной части.



---
### Zero-Ссылки
- [00 Git](00%20Git.md)

---
### Ссылки
- [# Git. Руководство по оформлению веток и коммитов](https://habr.com/ru/articles/820547/)
- [git-scm.com 7.6 Инструменты Git - Перезапись истории](https://git-scm.com/book/ru/v2/%d0%98%d0%bd%d1%81%d1%82%d1%80%d1%83%d0%bc%d0%b5%d0%bd%d1%82%d1%8b-Git-%d0%9f%d0%b5%d1%80%d0%b5%d0%b7%d0%b0%d0%bf%d0%b8%d1%81%d1%8c-%d0%b8%d1%81%d1%82%d0%be%d1%80%d0%b8%d0%b8)